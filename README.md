# finance_accounting_tool
Finance accounting tool | HW at FCS HSE Software Design Course
# КПО - КР №1
#### Выполнил: Хадзакос Николай, БПИ236

## Концепт решения
Проект реализует модуль для учета финансов. Основные доменные модели:
- **BankAccount** - банковский счет
- **Category** - категория доходов/расходов
- **Operation** - операция

## Основные возможности
- Добавление/удаление/редактирование банковских счетов
- Добавление/удаление/редактирование категорий
- Добавление/удаление/редактирование операций
- Просмотр списка всех банковских счетов/категорий/операций
- Пересчет баланса счета по всем операциям
- Просмотр общей сводной информации о доходах/расходах
- Аналитика операций по категориям
- Аналитика операций по счетам
- Работа с JSON, CSV, YAML файлами

## Структура проекта
- `src/main/java/hse/accounting/config` - пакет для реализации конфигурации Spring - DI.
- `src/main/java/hse/accounting/command` - пакет для реализации команд и декоратора времени выполнения.
- `src/main/java/hse/accounting/domain` - пакет для реализации доменных моделей.
- `src/main/java/hse/accounting/facade` - пакет для реализации фасадов для доменных моделей, а таккже фасада аналитики.
- `src/main/java/hse/accounting/factory` - пакет для реализации фабрик.
- `src/main/java/hse/accounting/repository` - пакет для реализации in-memory базы данных.
- `src/main/java/hse/accounting/idgenerator` - пакет для реализации синглтона и стратегии.
- `src/main/java/hse/accounting/file/importer` - пакет для реализации импортера операций из файлов.
- `src/main/java/hse/accounting/file/exporter` - пакет для реализации экспортера операций в файлы.
- `src/main/java/hse/accounting/ui` - пакет для реализации консольного интерфейса.
- `src/main/java/hse/accounting/main` - пакет для реализации косольного приложения.
- `src/main/java/hse/accounting/AppApplication` - точка входа в приложение.

## Паттерны проектирования
1. **Фабрика** - для создания объектов доменных моделей BankAccount, Category, Operation(см. `src/main/java/hse/accounting/factory`).
2. **Синглтон + Стратегия** - для выдачи уникального ID объектам доменных моделей(см. `src/main/java/hse/accounting/idgenerator`).
3. **Фасад** - обеспечивает интерфейс для работы с инстансами доменных моделей(см. `src/main/java/hse/accounting/facade`).
4. **Команда + Декоратор** - для реализации функционала пользовательского сценария, а также замера времени выполнения(см. `src/main/java/hse/accounting/command`). `Command` - интерфейс команды, `TimingDecorator` - декоратор для замера времени выполнения команды.
5. **Шаблонный метод** - для реализации функционала импорта операций из файлов(см. `src/main/java/hse/accounting/importer`). `Importer` - интерфейс импортера, `AbstractImporter` - абстрактный класс импортера, `JSONImporter`, `CSVImporter`, `YAMLImporter` - конкретные импортеры.
6. **Посетитель** - для реализации функционала экспорта операций в файлы(см. `src/main/java/hse/accounting/exporter`). `ExporterVisitor` - интерфейс посетителя, `JSONVisitor`, `CSVVisitor`, `YAMLVisitor` - конкретные посетители.

## DI
Для реализации DI используется библиотека Spring. Весь код, связанный с DI, находится в пакете `src/main/java/hse/accounting/config`. Там создаются бины фабрик, фасадов, импортеров, экспортеров для внедрения зависимостей через DI-контейнер.

## SOLID и GRASP
- **Single Responsibility Principle** - каждый класс выполняет только одну задачу.
- **Open/Closed Principle** - классы можно расширять, но не модифицировать.
- **Liskov Substitution Principle** - интерфейсы позволяют заменять реализации без нарушения логики.
- **Interface Segregation Principle** - интерфейсы узкоспециализированны, что оставляет клиентский код без избыточных методов.
- **Dependency Inversion Principle** - все зависимости абстрактны.

## GRASP
**High Cohesion** - есть четкое разделение ответственностей между классами.
**Low Coupling** - классы слабо связаны друг с другом, что позволяет легко изменять их структуру без влияния на другие классы.(проверенно десятками часов дебага).

# Запуск
1. Склонируйте репозиторий:
```bash
git clone https://github.com/khadzakos/finance_accounting_tool.git
```
2. **Установите Maven**: Убедитесь, что Maven установлен. Если нет, установите его с помощью Homebrew:
MacOS:
```bash
brew install maven
```
Linux:
``` bash
sudo apt install maven
```
3. **Соберите проект**: Используйте следующую команду для сборки проекта:
```bash
mvn clean install
```
4. **Запустите проект**: Используйте следующую команду для запуска Spring Boot приложения:
```bash
mvn spring-boot:run
```

# Пояснения к работе с проектом
1. Дата вводится в формате `yyyy-MM-dd` - требование типа данных.
2. Все операции производятся через ID. Мне показалось это логичным. Поэтому советую переодически выводить ID всех объектов в консоль, чтобы не запутаться. 
3. Вы не сможете удалить категорию, если в ней есть операции. Но при этом, удаляя счет, вы удаляете все операции, связанные с ним.
4. Когда вы задаете баланс счета, то вы указываете "изначальный" баланс. То есть, если вы уже вводили операции, то баланс будет расчитан с учетом этих операций после выполнения соответствующей команды. До того момента баланс будет равен изначальному. Это сделано для того, чтобы можно было свободно обновлять операции.
5. ID - это синглтон. Соответственно, для всех объектов единная схема нумерация, которая соответствует порядку создания объектов.
6. Если тестите файлы, то лучше последовательно вызвать счета, потом категории, потом операции. Или сделать свои файлы, аккуратно прописав ID.

## Тесты
Какие-то тесты есть, но покрывают около 50% кода, не успел сделать больше.

Для запуска тестов используйте команду:
```bash
mvn test
```












